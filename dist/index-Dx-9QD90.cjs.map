{"version":3,"file":"index-Dx-9QD90.cjs","sources":["../node_modules/.pnpm/tinymce@6.8.6/node_modules/tinymce/plugins/media/plugin.js"],"sourcesContent":["/**\n * TinyMCE version 6.8.6 (TBD)\n */\n\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativePush = Array.prototype.push;\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const get$1 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('audio_template_callback', { processor: 'function' });\n      registerOption('video_template_callback', { processor: 'function' });\n      registerOption('iframe_template_callback', { processor: 'function' });\n      registerOption('media_live_embeds', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_filter_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_url_resolver', { processor: 'function' });\n      registerOption('media_alt_source', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_poster', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getAudioTemplateCallback = option('audio_template_callback');\n    const getVideoTemplateCallback = option('video_template_callback');\n    const getIframeTemplateCallback = option('iframe_template_callback');\n    const hasLiveEmbeds = option('media_live_embeds');\n    const shouldFilterHtml = option('media_filter_html');\n    const getUrlResolver = option('media_url_resolver');\n    const hasAltSource = option('media_alt_source');\n    const hasPoster = option('media_poster');\n    const hasDimensions = option('media_dimensions');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    const DOM$1 = global$4.DOM;\n    const trimPx = value => value.replace(/px$/, '');\n    const getEphoxEmbedData = node => {\n      const style = node.attr('style');\n      const styles = style ? DOM$1.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source: node.attr('data-ephox-embed-iri'),\n        altsource: '',\n        poster: '',\n        width: get$1(styles, 'max-width').map(trimPx).getOr(''),\n        height: get$1(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    const htmlToData = (html, schema) => {\n      let data = {};\n      const parser = global$3({\n        validate: false,\n        forced_root_block: false\n      }, schema);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            data = getEphoxEmbedData(node);\n            break;\n          } else {\n            if (!data.source && name === 'param') {\n              data.source = node.attr('movie');\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$5.extend(node.attributes.map, data);\n            }\n            if (name === 'source') {\n              if (!data.source) {\n                data.source = node.attr('src');\n              } else if (!data.altsource) {\n                data.altsource = node.attr('src');\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = node.attr('src');\n            }\n          }\n        }\n      }\n      data.source = data.source || data.src || '';\n      data.altsource = data.altsource || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n\n    const guess = url => {\n      var _a;\n      const mimes = {\n        mp3: 'audio/mpeg',\n        m4a: 'audio/x-m4a',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      const fileEnd = (_a = url.toLowerCase().split('.').pop()) !== null && _a !== void 0 ? _a : '';\n      return get$1(mimes, fileEnd).getOr('');\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    const Parser = (schema, settings = {}) => global$3({\n      forced_root_block: false,\n      validate: false,\n      allow_conditional_comments: true,\n      ...settings\n    }, schema);\n\n    const DOM = global$4.DOM;\n    const addPx = value => /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    const updateEphoxEmbed = (data, node) => {\n      const style = node.attr('style');\n      const styleMap = style ? DOM.parseStyle(style) : {};\n      if (isNonNullable(data.width)) {\n        styleMap['max-width'] = addPx(data.width);\n      }\n      if (isNonNullable(data.height)) {\n        styleMap['max-height'] = addPx(data.height);\n      }\n      node.attr('style', DOM.serializeStyle(styleMap));\n    };\n    const sources = [\n      'source',\n      'altsource'\n    ];\n    const updateHtml = (html, data, updateAll, schema) => {\n      let numSources = 0;\n      let sourceCount = 0;\n      const parser = Parser(schema);\n      parser.addNodeFilter('source', nodes => numSources = nodes.length);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            updateEphoxEmbed(data, node);\n            break;\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                node.attr('width', data.width);\n                node.attr('height', data.height);\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                node.attr('poster', data.poster);\n                node.attr('src', null);\n                for (let index = numSources; index < 2; index++) {\n                  if (data[sources[index]]) {\n                    const source = new global$2('source', 1);\n                    source.attr('src', data[sources[index]]);\n                    source.attr('type', data[sources[index] + 'mime'] || null);\n                    node.append(source);\n                  }\n                }\n                break;\n              case 'iframe':\n                node.attr('src', data.source);\n                break;\n              case 'object':\n                const hasImage = node.getAll('img').length > 0;\n                if (data.poster && !hasImage) {\n                  node.attr('src', data.poster);\n                  const img = new global$2('img', 1);\n                  img.attr('src', data.poster);\n                  img.attr('width', data.width);\n                  img.attr('height', data.height);\n                  node.append(img);\n                }\n                break;\n              case 'source':\n                if (sourceCount < 2) {\n                  node.attr('src', data[sources[sourceCount]]);\n                  node.attr('type', data[sources[sourceCount] + 'mime'] || null);\n                  if (!data[sources[sourceCount]]) {\n                    node.remove();\n                    continue;\n                  }\n                }\n                sourceCount++;\n                break;\n              case 'img':\n                if (!data.poster) {\n                  node.remove();\n                }\n                break;\n              }\n            }\n          }\n        }\n      }\n      return global$1({}, schema).serialize(rootNode);\n    };\n\n    const urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)\\?h=(\\w+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)\\?h=(\\w+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    const getProtocol = url => {\n      const protocolMatches = url.match(/^(https?:\\/\\/|www\\.)(.+)$/i);\n      if (protocolMatches && protocolMatches.length > 1) {\n        return protocolMatches[1] === 'www.' ? 'https://' : protocolMatches[1];\n      } else {\n        return 'https://';\n      }\n    };\n    const getUrl = (pattern, url) => {\n      const protocol = getProtocol(url);\n      const match = pattern.regex.exec(url);\n      let newUrl = protocol + pattern.url;\n      if (isNonNullable(match)) {\n        for (let i = 0; i < match.length; i++) {\n          newUrl = newUrl.replace('$' + i, () => match[i] ? match[i] : '');\n        }\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    const matchPattern = url => {\n      const patterns = urlPatterns.filter(pattern => pattern.regex.test(url));\n      if (patterns.length > 0) {\n        return global$5.extend({}, patterns[0], { url: getUrl(patterns[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    const getIframeHtml = (data, iframeTemplateCallback) => {\n      if (iframeTemplateCallback) {\n        return iframeTemplateCallback(data);\n      } else {\n        const allowFullscreen = data.allowfullscreen ? ' allowFullscreen=\"1\"' : '';\n        return '<iframe src=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n      }\n    };\n    const getFlashHtml = data => {\n      let html = '<object data=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    const getAudioHtml = (data, audioTemplateCallback) => {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source + '\">' + (data.altsource ? '\\n<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    const getVideoHtml = (data, videoTemplateCallback) => {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source + '\"' + (data.sourcemime ? ' type=\"' + data.sourcemime + '\"' : '') + ' />\\n' + (data.altsource ? '<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    const dataToHtml = (editor, dataIn) => {\n      var _a;\n      const data = global$5.extend({}, dataIn);\n      if (!data.source) {\n        global$5.extend(data, htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema));\n        if (!data.source) {\n          return '';\n        }\n      }\n      if (!data.altsource) {\n        data.altsource = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source = editor.convertURL(data.source, 'source');\n      data.altsource = editor.convertURL(data.altsource, 'source');\n      data.sourcemime = guess(data.source);\n      data.altsourcemime = guess(data.altsource);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      const pattern = matchPattern(data.source);\n      if (pattern) {\n        data.source = pattern.url;\n        data.type = pattern.type;\n        data.allowfullscreen = pattern.allowFullscreen;\n        data.width = data.width || String(pattern.w);\n        data.height = data.height || String(pattern.h);\n      }\n      if (data.embed) {\n        return updateHtml(data.embed, data, true, editor.schema);\n      } else {\n        const audioTemplateCallback = getAudioTemplateCallback(editor);\n        const videoTemplateCallback = getVideoTemplateCallback(editor);\n        const iframeTemplateCallback = getIframeTemplateCallback(editor);\n        data.width = data.width || '300';\n        data.height = data.height || '150';\n        global$5.each(data, (value, key) => {\n          data[key] = editor.dom.encode('' + value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data, iframeTemplateCallback);\n        } else if (data.sourcemime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.sourcemime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n\n    const isMediaElement = element => element.hasAttribute('data-mce-object') || element.hasAttribute('data-ephox-embed-iri');\n    const setup$2 = editor => {\n      editor.on('click keyup touchend', () => {\n        const selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const target = e.target;\n        if (target.getAttribute('data-mce-object')) {\n          let html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(updateHtml(html, {\n              width: String(e.width),\n              height: String(e.height)\n            }, false, editor.schema)));\n          }\n        }\n      });\n    };\n\n    const cache = {};\n    const embedPromise = (data, dataToHtml, handler) => {\n      return new Promise((res, rej) => {\n        const wrappedResolve = response => {\n          if (response.html) {\n            cache[data.source] = response;\n          }\n          return res({\n            url: data.source,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source]) {\n          wrappedResolve(cache[data.source]);\n        } else {\n          handler({ url: data.source }, wrappedResolve, rej);\n        }\n      });\n    };\n    const defaultPromise = (data, dataToHtml) => Promise.resolve({\n      html: dataToHtml(data),\n      url: data.source\n    });\n    const loadedData = editor => data => dataToHtml(editor, data);\n    const getEmbedHtml = (editor, data) => {\n      const embedHandler = getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    const isCached = url => has(cache, url);\n\n    const extractMeta = (sourceInput, data) => get$1(data, sourceInput).bind(mainData => get$1(mainData, 'meta'));\n    const getValue = (data, metaData, sourceInput) => prop => {\n      const getFromData = () => get$1(data, prop);\n      const getFromMetaData = () => get$1(metaData, prop);\n      const getNonEmptyValue = c => get$1(c, 'value').bind(v => v.length > 0 ? Optional.some(v) : Optional.none());\n      const getFromValueFirst = () => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child).orThunk(getFromMetaData) : getFromMetaData().orThunk(() => Optional.from(child)));\n      const getFromMetaFirst = () => getFromMetaData().orThunk(() => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child) : Optional.from(child)));\n      return { [prop]: (prop === sourceInput ? getFromValueFirst() : getFromMetaFirst()).getOr('') };\n    };\n    const getDimensions = (data, metaData) => {\n      const dimensions = {};\n      get$1(data, 'dimensions').each(dims => {\n        each$1([\n          'width',\n          'height'\n        ], prop => {\n          get$1(metaData, prop).orThunk(() => get$1(dims, prop)).each(value => dimensions[prop] = value);\n        });\n      });\n      return dimensions;\n    };\n    const unwrap = (data, sourceInput) => {\n      const metaData = sourceInput && sourceInput !== 'dimensions' ? extractMeta(sourceInput, data).getOr({}) : {};\n      const get = getValue(data, metaData, sourceInput);\n      return {\n        ...get('source'),\n        ...get('altsource'),\n        ...get('poster'),\n        ...get('embed'),\n        ...getDimensions(data, metaData)\n      };\n    };\n    const wrap = data => {\n      const wrapped = {\n        ...data,\n        source: { value: get$1(data, 'source').getOr('') },\n        altsource: { value: get$1(data, 'altsource').getOr('') },\n        poster: { value: get$1(data, 'poster').getOr('') }\n      };\n      each$1([\n        'width',\n        'height'\n      ], prop => {\n        get$1(data, prop).each(value => {\n          const dimensions = wrapped.dimensions || {};\n          dimensions[prop] = value;\n          wrapped.dimensions = dimensions;\n        });\n      });\n      return wrapped;\n    };\n    const handleError = editor => error => {\n      const errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n      editor.notificationManager.open({\n        type: 'error',\n        text: errorMessage\n      });\n    };\n    const getEditorData = editor => {\n      const element = editor.selection.getNode();\n      const snippet = isMediaElement(element) ? editor.serializer.serialize(element, { selection: true }) : '';\n      const data = htmlToData(snippet, editor.schema);\n      const getDimensionsOfElement = () => {\n        if (isEmbedIframe(data.source, data.type)) {\n          const rect = editor.dom.getRect(element);\n          return {\n            width: rect.w.toString().replace(/px$/, ''),\n            height: rect.h.toString().replace(/px$/, '')\n          };\n        } else {\n          return {};\n        }\n      };\n      const dimensions = getDimensionsOfElement();\n      return {\n        embed: snippet,\n        ...data,\n        ...dimensions\n      };\n    };\n    const addEmbedHtml = (api, editor) => response => {\n      if (isString(response.url) && response.url.trim().length > 0) {\n        const html = response.html;\n        const snippetData = htmlToData(html, editor.schema);\n        const nuData = {\n          ...snippetData,\n          source: response.url,\n          embed: html\n        };\n        api.setData(wrap(nuData));\n      }\n    };\n    const selectPlaceholder = (editor, beforeObjects) => {\n      const afterObjects = editor.dom.select('*[data-mce-object]');\n      for (let i = 0; i < beforeObjects.length; i++) {\n        for (let y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    const handleInsert = (editor, html) => {\n      const beforeObjects = editor.dom.select('*[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    const isEmbedIframe = (url, mediaDataType) => isNonNullable(mediaDataType) && mediaDataType === 'ephox-embed-iri' && isNonNullable(matchPattern(url));\n    const shouldInsertAsNewIframe = (prevData, newData) => {\n      const hasDimensionsChanged = (prevData, newData) => prevData.width !== newData.width || prevData.height !== newData.height;\n      return hasDimensionsChanged(prevData, newData) && isEmbedIframe(newData.source, prevData.type);\n    };\n    const submitForm = (prevData, newData, editor) => {\n      var _a;\n      newData.embed = shouldInsertAsNewIframe(prevData, newData) && hasDimensions(editor) ? dataToHtml(editor, {\n        ...newData,\n        embed: ''\n      }) : updateHtml((_a = newData.embed) !== null && _a !== void 0 ? _a : '', newData, false, editor.schema);\n      if (newData.embed && (prevData.source === newData.source || isCached(newData.source))) {\n        handleInsert(editor, newData.embed);\n      } else {\n        getEmbedHtml(editor, newData).then(response => {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    const showDialog = editor => {\n      const editorData = getEditorData(editor);\n      const currentData = Cell(editorData);\n      const initialData = wrap(editorData);\n      const handleSource = (prevData, api) => {\n        const serviceData = unwrap(api.getData(), 'source');\n        if (prevData.source !== serviceData.source) {\n          addEmbedHtml(win, editor)({\n            url: serviceData.source,\n            html: ''\n          });\n          getEmbedHtml(editor, serviceData).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n        }\n      };\n      const handleEmbed = api => {\n        var _a;\n        const data = unwrap(api.getData());\n        const dataFromEmbed = htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema);\n        api.setData(wrap(dataFromEmbed));\n      };\n      const handleUpdate = (api, sourceInput, prevData) => {\n        const dialogData = unwrap(api.getData(), sourceInput);\n        const data = shouldInsertAsNewIframe(prevData, dialogData) && hasDimensions(editor) ? {\n          ...dialogData,\n          embed: ''\n        } : dialogData;\n        const embed = dataToHtml(editor, data);\n        api.setData(wrap({\n          ...data,\n          embed\n        }));\n      };\n      const mediaInput = [{\n          name: 'source',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Source',\n          picker_text: 'Browse files'\n        }];\n      const sizeInput = !hasDimensions(editor) ? [] : [{\n          type: 'sizeinput',\n          name: 'dimensions',\n          label: 'Constrain proportions',\n          constrain: true\n        }];\n      const generalTab = {\n        title: 'General',\n        name: 'general',\n        items: flatten([\n          mediaInput,\n          sizeInput\n        ])\n      };\n      const embedTextarea = {\n        type: 'textarea',\n        name: 'embed',\n        label: 'Paste your embed code below:'\n      };\n      const embedTab = {\n        title: 'Embed',\n        items: [embedTextarea]\n      };\n      const advancedFormItems = [];\n      if (hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'altsource',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Alternative source URL'\n        });\n      }\n      if (hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'urlinput',\n          filetype: 'image',\n          label: 'Media poster (Image URL)'\n        });\n      }\n      const advancedTab = {\n        title: 'Advanced',\n        name: 'advanced',\n        items: advancedFormItems\n      };\n      const tabs = [\n        generalTab,\n        embedTab\n      ];\n      if (advancedFormItems.length > 0) {\n        tabs.push(advancedTab);\n      }\n      const body = {\n        type: 'tabpanel',\n        tabs\n      };\n      const win = editor.windowManager.open({\n        title: 'Insert/Edit Media',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const serviceData = unwrap(api.getData());\n          submitForm(currentData.get(), serviceData, editor);\n          api.close();\n        },\n        onChange: (api, detail) => {\n          switch (detail.name) {\n          case 'source':\n            handleSource(currentData.get(), api);\n            break;\n          case 'embed':\n            handleEmbed(api);\n            break;\n          case 'dimensions':\n          case 'altsource':\n          case 'poster':\n            handleUpdate(api, detail.name, currentData.get());\n            break;\n          }\n          currentData.set(unwrap(api.getData()));\n        },\n        initialData\n      });\n    };\n\n    const get = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      return { showDialog: showDialog$1 };\n    };\n\n    const register$1 = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog$1);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const isLiveEmbedNode = node => {\n      const name = node.name;\n      return name === 'iframe' || name === 'video' || name === 'audio';\n    };\n    const getDimension = (node, styles, dimension, defaultValue = null) => {\n      const value = node.attr(dimension);\n      if (isNonNullable(value)) {\n        return value;\n      } else if (!has(styles, dimension)) {\n        return defaultValue;\n      } else {\n        return null;\n      }\n    };\n    const setDimensions = (node, previewNode, styles) => {\n      const useDefaults = previewNode.name === 'img' || node.name === 'video';\n      const defaultWidth = useDefaults ? '300' : null;\n      const fallbackHeight = node.name === 'audio' ? '30' : '150';\n      const defaultHeight = useDefaults ? fallbackHeight : null;\n      previewNode.attr({\n        width: getDimension(node, styles, 'width', defaultWidth),\n        height: getDimension(node, styles, 'height', defaultHeight)\n      });\n    };\n    const appendNodeContent = (editor, nodeName, previewNode, html) => {\n      const newNode = Parser(editor.schema).parse(html, { context: nodeName });\n      while (newNode.firstChild) {\n        previewNode.append(newNode.firstChild);\n      }\n    };\n    const createPlaceholderNode = (editor, node) => {\n      const name = node.name;\n      const placeHolder = new global$2('img', 1);\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      setDimensions(node, placeHolder, {});\n      placeHolder.attr({\n        'style': node.attr('style'),\n        'src': global.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    const createPreviewNode = (editor, node) => {\n      var _a;\n      const name = node.name;\n      const previewWrapper = new global$2('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      const styles = editor.dom.parseStyle((_a = node.attr('style')) !== null && _a !== void 0 ? _a : '');\n      const previewNode = new global$2(name, 1);\n      setDimensions(node, previewNode, styles);\n      previewNode.attr({\n        src: node.attr('src'),\n        style: node.attr('style'),\n        class: node.attr('class')\n      });\n      if (name === 'iframe') {\n        previewNode.attr({\n          allowfullscreen: node.attr('allowfullscreen'),\n          frameborder: '0',\n          sandbox: node.attr('sandbox')\n        });\n      } else {\n        const attrs = [\n          'controls',\n          'crossorigin',\n          'currentTime',\n          'loop',\n          'muted',\n          'poster',\n          'preload'\n        ];\n        each$1(attrs, attrName => {\n          previewNode.attr(attrName, node.attr(attrName));\n        });\n        const sanitizedHtml = previewWrapper.attr('data-mce-html');\n        if (isNonNullable(sanitizedHtml)) {\n          appendNodeContent(editor, name, previewNode, unescape(sanitizedHtml));\n        }\n      }\n      const shimNode = new global$2('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    const retainAttributesAndInnerHtml = (editor, sourceNode, targetNode) => {\n      var _a;\n      const attribs = (_a = sourceNode.attributes) !== null && _a !== void 0 ? _a : [];\n      let ai = attribs.length;\n      while (ai--) {\n        const attrName = attribs[ai].name;\n        let attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style' && !startsWith(attrName, 'data-mce-')) {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      const serializer = global$1({ inner: true }, editor.schema);\n      const tempNode = new global$2('div', 1);\n      each$1(sourceNode.children(), child => tempNode.append(child));\n      const innerHtml = serializer.serialize(tempNode);\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(innerHtml));\n        targetNode.empty();\n      }\n    };\n    const isPageEmbedWrapper = node => {\n      const nodeClass = node.attr('class');\n      return isString(nodeClass) && /\\btiny-pageembed\\b/.test(nodeClass);\n    };\n    const isWithinEmbedWrapper = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parent) {\n        if (tempNode.attr('data-ephox-embed-iri') || isPageEmbedWrapper(tempNode)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const placeHolderConverter = editor => nodes => {\n      let i = nodes.length;\n      let node;\n      while (i--) {\n        node = nodes[i];\n        if (!node.parent) {\n          continue;\n        }\n        if (node.parent.attr('data-mce-object')) {\n          continue;\n        }\n        if (isLiveEmbedNode(node) && hasLiveEmbeds(editor)) {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPreviewNode(editor, node));\n          }\n        } else {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPlaceholderNode(editor, node));\n          }\n        }\n      }\n    };\n\n    const parseAndSanitize = (editor, context, html) => {\n      const getEditorOption = editor.options.get;\n      const sanitize = getEditorOption('xss_sanitization');\n      const validate = shouldFilterHtml(editor);\n      return Parser(editor.schema, {\n        sanitize,\n        validate\n      }).parse(html, { context });\n    };\n\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {schema, serializer, parser} = editor;\n        const boolAttrs = schema.getBoolAttrs();\n        each$1('webkitallowfullscreen mozallowfullscreen'.split(' '), name => {\n          boolAttrs[name] = {};\n        });\n        each({ embed: ['wmode'] }, (attrs, name) => {\n          const rule = schema.getElementRule(name);\n          if (rule) {\n            each$1(attrs, attr => {\n              rule.attributes[attr] = {};\n              rule.attributesOrder.push(attr);\n            });\n          }\n        });\n        parser.addNodeFilter('iframe,video,audio,object,embed', placeHolderConverter(editor));\n        serializer.addAttributeFilter('data-mce-object', (nodes, name) => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            const realElmName = node.attr(name);\n            const realElm = new global$2(realElmName, 1);\n            if (realElmName !== 'audio') {\n              const className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1 && node.firstChild) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            const attribs = (_a = node.attributes) !== null && _a !== void 0 ? _a : [];\n            let ai = attribs.length;\n            while (ai--) {\n              const attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            const innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              const fragment = parseAndSanitize(editor, realElmName, unescape(innerHtml));\n              each$1(fragment.children(), child => realElm.append(child));\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('SetContent', () => {\n        const dom = editor.dom;\n        each$1(dom.select('span.mce-preview-object'), elm => {\n          if (dom.select('span.mce-shim', elm).length === 0) {\n            dom.add(elm, 'span', { class: 'mce-shim' });\n          }\n        });\n      });\n    };\n\n    const setup = editor => {\n      editor.on('ResolveName', e => {\n        let name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n\n    const onSetupEditable = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const register = editor => {\n      const onAction = () => editor.execCommand('mceMedia');\n      editor.ui.registry.addToggleButton('media', {\n        tooltip: 'Insert/edit media',\n        icon: 'embed',\n        onAction,\n        onSetup: buttonApi => {\n          const selection = editor.selection;\n          buttonApi.setActive(isMediaElement(selection.getNode()));\n          const unbindSelectorChanged = selection.selectorChangedWithUnbind('img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]', buttonApi.setActive).unbind;\n          const unbindEditable = onSetupEditable(editor)(buttonApi);\n          return () => {\n            unbindSelectorChanged();\n            unbindEditable();\n          };\n        }\n      });\n      editor.ui.registry.addMenuItem('media', {\n        icon: 'embed',\n        text: 'Media...',\n        onAction,\n        onSetup: onSetupEditable(editor)\n      });\n    };\n\n    var Plugin = () => {\n      global$6.add('media', editor => {\n        register$2(editor);\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$1(editor);\n        setup$2(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n"],"names":["global$6","hasProto","v","constructor","predicate","_a","typeOf","x","t","o","proto","isType","type","value","isString","isObject","isArray","isNullable","a","isNonNullable","Optional","tag","onNone","onSome","mapper","binder","replacement","thunk","message","worker","nativePush","each$1","xs","f","i","len","flatten","r","Cell","initial","keys","hasOwnProperty","each","obj","props","k","get$1","key","has","option","name","editor","register$2","registerOption","getAudioTemplateCallback","getVideoTemplateCallback","getIframeTemplateCallback","hasLiveEmbeds","shouldFilterHtml","getUrlResolver","hasAltSource","hasPoster","hasDimensions","global$5","global$4","global$3","DOM$1","trimPx","getEphoxEmbedData","node","style","styles","htmlToData","html","schema","data","rootNode","guess","url","mimes","fileEnd","global$2","global$1","Parser","settings","DOM","addPx","updateEphoxEmbed","styleMap","sources","updateHtml","updateAll","numSources","sourceCount","parser","nodes","index","source","hasImage","img","urlPatterns","getProtocol","protocolMatches","getUrl","pattern","protocol","match","newUrl","matchPattern","patterns","getIframeHtml","iframeTemplateCallback","allowFullscreen","getFlashHtml","getAudioHtml","audioTemplateCallback","getVideoHtml","videoTemplateCallback","dataToHtml","dataIn","isMediaElement","element","setup$2","selectedNode","target","cache","embedPromise","handler","res","rej","wrappedResolve","response","defaultPromise","loadedData","getEmbedHtml","embedHandler","isCached","extractMeta","sourceInput","mainData","getValue","metaData","prop","getFromData","getFromMetaData","getNonEmptyValue","getFromValueFirst","child","getFromMetaFirst","getDimensions","dimensions","dims","unwrap","get","wrap","wrapped","handleError","error","errorMessage","getEditorData","snippet","isEmbedIframe","rect","addEmbedHtml","api","nuData","selectPlaceholder","beforeObjects","afterObjects","y","handleInsert","mediaDataType","shouldInsertAsNewIframe","prevData","newData","submitForm","showDialog","editorData","currentData","initialData","handleSource","serviceData","win","handleEmbed","dataFromEmbed","handleUpdate","dialogData","embed","mediaInput","sizeInput","generalTab","embedTab","advancedFormItems","advancedTab","tabs","body","detail","register$1","showDialog$1","checkRange","str","substr","start","startsWith","prefix","global","isLiveEmbedNode","getDimension","dimension","defaultValue","setDimensions","previewNode","useDefaults","defaultWidth","fallbackHeight","defaultHeight","appendNodeContent","nodeName","newNode","createPlaceholderNode","placeHolder","retainAttributesAndInnerHtml","createPreviewNode","previewWrapper","attrName","sanitizedHtml","shimNode","sourceNode","targetNode","attribs","ai","attrValue","serializer","tempNode","innerHtml","isPageEmbedWrapper","nodeClass","isWithinEmbedWrapper","placeHolderConverter","parseAndSanitize","context","getEditorOption","sanitize","validate","setup$1","boolAttrs","attrs","rule","attr","realElmName","realElm","className","fragment","dom","elm","setup","onSetupEditable","nodeChanged","register","onAction","buttonApi","selection","unbindSelectorChanged","unbindEditable","Plugin"],"mappings":"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","x_google_ignoreList":[0]}
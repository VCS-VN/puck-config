{"version":3,"file":"index-DDCER6TW.cjs","sources":["../node_modules/.pnpm/tinymce@6.8.6/node_modules/tinymce/plugins/link/plugin.js"],"sourcesContent":["/**\n * TinyMCE version 6.8.6 (TBD)\n */\n\n(function () {\n    'use strict';\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const option = name => editor => editor.options.get(name);\n    const register$1 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('link_assume_external_targets', {\n        processor: value => {\n          const valid = isString(value) || isBoolean(value);\n          if (valid) {\n            if (value === true) {\n              return {\n                value: 1,\n                valid\n              };\n            } else if (value === 'http' || value === 'https') {\n              return {\n                value,\n                valid\n              };\n            } else {\n              return {\n                value: 0,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or a boolean.'\n            };\n          }\n        },\n        default: false\n      });\n      registerOption('link_context_toolbar', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_list', { processor: value => isString(value) || isFunction(value) || isArrayOf(value, isObject) });\n      registerOption('link_default_target', { processor: 'string' });\n      registerOption('link_default_protocol', {\n        processor: 'string',\n        default: 'https'\n      });\n      registerOption('link_target_list', {\n        processor: value => isBoolean(value) || isArrayOf(value, isObject),\n        default: true\n      });\n      registerOption('link_rel_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_title', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_quicklink', {\n        processor: 'boolean',\n        default: false\n      });\n    };\n    const assumeExternalTargets = option('link_assume_external_targets');\n    const hasContextToolbar = option('link_context_toolbar');\n    const getLinkList = option('link_list');\n    const getDefaultLinkTarget = option('link_default_target');\n    const getDefaultLinkProtocol = option('link_default_protocol');\n    const getTargetList = option('link_target_list');\n    const getRelList = option('link_rel_list');\n    const getLinkClassList = option('link_class_list');\n    const shouldShowLinkTitle = option('link_title');\n    const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n    const useQuickLink = option('link_quicklink');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global$4.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizeWith = (extracter = getValue) => list => Optional.from(list).map(list => sanitizeList(list, extracter));\n    const sanitize = list => sanitizeWith(getValue)(list);\n    const createUi = (name, label) => items => ({\n      name,\n      type: 'listbox',\n      label,\n      items\n    });\n    const ListOptions = {\n      sanitize,\n      sanitizeWith,\n      createUi,\n      getValue\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isAnchor = elm => isNonNullable(elm) && elm.nodeName.toLowerCase() === 'a';\n    const isLink = elm => isAnchor(elm) && !!getHref(elm);\n    const collectNodesInRange = (rng, predicate) => {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        const contents = rng.cloneContents();\n        const firstChild = contents.firstChild;\n        const walker = new global$3(firstChild, contents);\n        const elements = [];\n        let current = firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    const hasProtocol = url => /^\\w+:/i.test(url);\n    const getHref = elm => {\n      var _a, _b;\n      return (_b = (_a = elm.getAttribute('data-mce-href')) !== null && _a !== void 0 ? _a : elm.getAttribute('href')) !== null && _b !== void 0 ? _b : '';\n    };\n    const applyRelTargetRules = (rel, isUnsafe) => {\n      const rules = ['noopener'];\n      const rels = rel ? rel.split(/\\s+/) : [];\n      const toString = rels => global$4.trim(rels.sort().join(' '));\n      const addTargetRules = rels => {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      const removeTargetRules = rels => rels.filter(val => global$4.inArray(rules, val) === -1);\n      const newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    const trimCaretContainers = text => text.replace(/\\uFEFF/g, '');\n    const getAnchorElement = (editor, selectedElm) => {\n      selectedElm = selectedElm || getLinksInSelection(editor.selection.getRng())[0] || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return Optional.from(editor.dom.select('a[href]', selectedElm)[0]);\n      } else {\n        return Optional.from(editor.dom.getParent(selectedElm, 'a[href]'));\n      }\n    };\n    const isInAnchor = (editor, selectedElm) => getAnchorElement(editor, selectedElm).isSome();\n    const getAnchorText = (selection, anchorElm) => {\n      const text = anchorElm.fold(() => selection.getContent({ format: 'text' }), anchorElm => anchorElm.innerText || anchorElm.textContent || '');\n      return trimCaretContainers(text);\n    };\n    const getLinksInSelection = rng => collectNodesInRange(rng, isLink);\n    const getLinks$1 = elements => global$4.grep(elements, isLink);\n    const hasLinks = elements => getLinks$1(elements).length > 0;\n    const hasLinksInSelection = rng => getLinksInSelection(rng).length > 0;\n    const isOnlyTextSelected = editor => {\n      const inlineTextElements = editor.schema.getTextInlineElements();\n      const isElement = elm => elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      const isInBlockAnchor = getAnchorElement(editor).exists(anchor => anchor.hasAttribute('data-mce-block'));\n      if (isInBlockAnchor) {\n        return false;\n      }\n      const rng = editor.selection.getRng();\n      if (!rng.collapsed) {\n        const elements = collectNodesInRange(rng, isElement);\n        return elements.length === 0;\n      } else {\n        return true;\n      }\n    };\n    const isImageFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n    const getLinkAttrs = data => {\n      const attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, (acc, key) => {\n        data[key].each(value => {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    const handleExternalTargets = (href, assumeExternalTargets) => {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    const applyLinkOverrides = (editor, linkAttrs) => {\n      const newLinkAttrs = { ...linkAttrs };\n      if (getRelList(editor).length === 0 && !allowUnsafeLinkTarget(editor)) {\n        const newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    const updateLink = (editor, anchorElm, text, linkAttrs) => {\n      text.each(text => {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    const createLink = (editor, selectedElm, text, linkAttrs) => {\n      const dom = editor.dom;\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(dom, selectedElm, linkAttrs);\n      } else {\n        text.fold(() => {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, text => {\n          editor.insertContent(dom.createHTML('a', linkAttrs, dom.encode(text)));\n        });\n      }\n    };\n    const linkDomMutation = (editor, attachState, data) => {\n      const selectedElm = editor.selection.getNode();\n      const anchorElm = getAnchorElement(editor, selectedElm);\n      const linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(() => {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        anchorElm.fold(() => {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }, elm => {\n          editor.focus();\n          updateLink(editor, elm, data.text, linkAttrs);\n        });\n      });\n    };\n    const unlinkSelection = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const bookmark = selection.getBookmark();\n      const rng = selection.getRng().cloneRange();\n      const startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      const endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    const unlinkDomMutation = editor => {\n      editor.undoManager.transact(() => {\n        const node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    const unwrapOptions = data => {\n      const {\n        class: cls,\n        href,\n        rel,\n        target,\n        text,\n        title\n      } = data;\n      return filter({\n        class: cls.getOrNull(),\n        href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, (v, _k) => isNull(v) === false);\n    };\n    const sanitizeData = (editor, data) => {\n      const getOption = editor.options.get;\n      const uriOptions = {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      };\n      const href = data.href;\n      return {\n        ...data,\n        href: global$2.isDomSafe(href, 'a', uriOptions) ? href : ''\n      };\n    };\n    const link = (editor, attachState, data) => {\n      const sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    const unlink = editor => {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    const unlinkImageFigure = (editor, fig) => {\n      var _a;\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          (_a = a.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    const linkImageFigure = (dom, fig, attrs) => {\n      var _a;\n      const img = dom.select('img', fig)[0];\n      if (img) {\n        const a = dom.create('a', attrs);\n        (_a = img.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    const isListGroup = item => hasNonNullableKey(item, 'items');\n    const findTextByValue = (value, catalog) => findMap(catalog, item => {\n      if (isListGroup(item)) {\n        return findTextByValue(value, item.items);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const getDelta = (persistentText, fieldName, catalog, data) => {\n      const value = data[fieldName];\n      const hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(i => ({\n        url: {\n          value: i.value,\n          meta: {\n            text: hasPersistentText ? persistentText : i.text,\n            attach: noop\n          }\n        },\n        text: hasPersistentText ? persistentText : i.text\n      })) : Optional.none();\n    };\n    const findCatalog = (catalogs, fieldName) => {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    const init = (initialData, linkCatalog) => {\n      const persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      const getTitleFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.title.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.title).getOr(''));\n      };\n      const getTextFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.text.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.text).getOr(url.value));\n      };\n      const onUrlChange = data => {\n        const text = getTextFromUrlChange(data.url);\n        const title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some({\n            ...text.map(text => ({ text })).getOr({}),\n            ...title.map(title => ({ title })).getOr({})\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const onCatalogChange = (data, change) => {\n        const catalog = findCatalog(linkCatalog, change).getOr([]);\n        return getDelta(persistentData.text, change, catalog, data);\n      };\n      const onChange = (getData, change) => {\n        const name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), name);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange };\n    };\n    const DialogChanges = {\n      init,\n      getDelta\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const delayedConfirm = (editor, message, callback) => {\n      const rng = editor.selection.getRng();\n      global$1.setEditorTimeout(editor, () => {\n        editor.windowManager.confirm(message, state => {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    const tryEmailTransform = data => {\n      const url = data.href;\n      const suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: oldData => ({\n          ...oldData,\n          href: 'mailto:' + url\n        })\n      }) : Optional.none();\n    };\n    const tryProtocolTransform = (assumeExternalTargets, defaultLinkProtocol) => data => {\n      const url = data.href;\n      const suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n      return suggestProtocol ? Optional.some({\n        message: `The URL you entered seems to be an external link. Do you want to add the required ${ defaultLinkProtocol }:// prefix?`,\n        preprocess: oldData => ({\n          ...oldData,\n          href: defaultLinkProtocol + '://' + url\n        })\n      }) : Optional.none();\n    };\n    const preprocess = (editor, data) => findMap([\n      tryEmailTransform,\n      tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n    ], f => f(data)).fold(() => Promise.resolve(data), transform => new Promise(callback => {\n      delayedConfirm(editor, transform.message, state => {\n        callback(state ? transform.preprocess(data) : data);\n      });\n    }));\n    const DialogConfirms = { preprocess };\n\n    const getAnchors = editor => {\n      const anchorNodes = editor.dom.select('a:not([href])');\n      const anchors = bind(anchorNodes, anchor => {\n        const id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    const AnchorListOptions = { getAnchors };\n\n    const getClasses = editor => {\n      const list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    const ClassListOptions = { getClasses };\n\n    const parseJson = text => {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const getLinks = editor => {\n      const extractor = item => editor.convertURL(item.value || item.url || '', 'href');\n      const linkList = getLinkList(editor);\n      return new Promise(resolve => {\n        if (isString(linkList)) {\n          fetch(linkList).then(res => res.ok ? res.text().then(parseJson) : Promise.reject()).then(resolve, () => resolve(Optional.none()));\n        } else if (isFunction(linkList)) {\n          linkList(output => resolve(Optional.some(output)));\n        } else {\n          resolve(Optional.from(linkList));\n        }\n      }).then(optItems => optItems.bind(ListOptions.sanitizeWith(extractor)).map(items => {\n        if (items.length > 0) {\n          const noneItem = [{\n              text: 'None',\n              value: ''\n            }];\n          return noneItem.concat(items);\n        } else {\n          return items;\n        }\n      }));\n    };\n    const LinkListOptions = { getLinks };\n\n    const getRels = (editor, initialTarget) => {\n      const list = getRelList(editor);\n      if (list.length > 0) {\n        const isTargetBlank = is(initialTarget, '_blank');\n        const enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        const safeRelExtractor = item => applyRelTargetRules(ListOptions.getValue(item), isTargetBlank);\n        const sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    const RelOptions = { getRels };\n\n    const fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    const getTargets = editor => {\n      const list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(() => Optional.some(fallbacks));\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    const TargetOptions = { getTargets };\n\n    const nonEmptyAttr = (dom, elem, name) => {\n      const val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    const extractFromAnchor = (editor, anchor) => {\n      const dom = editor.dom;\n      const onlyText = isOnlyTextSelected(editor);\n      const text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      const url = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'href')));\n      const target = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'target')));\n      const rel = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'rel'));\n      const linkClass = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'class'));\n      const title = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'title'));\n      return {\n        url,\n        text,\n        title,\n        target,\n        rel,\n        linkClass\n      };\n    };\n    const collect = (editor, linkNode) => LinkListOptions.getLinks(editor).then(links => {\n      const anchor = extractFromAnchor(editor, linkNode);\n      return {\n        anchor,\n        catalogs: {\n          targets: TargetOptions.getTargets(editor),\n          rels: RelOptions.getRels(editor, anchor.target),\n          classes: ClassListOptions.getClasses(editor),\n          anchor: AnchorListOptions.getAnchors(editor),\n          link: links\n        },\n        optNode: linkNode,\n        flags: { titleEnabled: shouldShowLinkTitle(editor) }\n      };\n    });\n    const DialogInfo = { collect };\n\n    const handleSubmit = (editor, info) => api => {\n      const data = api.getData();\n      if (!data.url.value) {\n        unlink(editor);\n        api.close();\n        return;\n      }\n      const getChangedValue = key => Optional.from(data[key]).filter(value => !is(info.anchor[key], value));\n      const changedData = {\n        href: data.url.value,\n        text: getChangedValue('text'),\n        target: getChangedValue('target'),\n        rel: getChangedValue('rel'),\n        class: getChangedValue('linkClass'),\n        title: getChangedValue('title')\n      };\n      const attachState = {\n        href: data.url.value,\n        attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n      };\n      DialogConfirms.preprocess(editor, changedData).then(pData => {\n        link(editor, attachState, pData);\n      });\n      api.close();\n    };\n    const collectData = editor => {\n      const anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    const getInitialData = (info, defaultTarget) => {\n      const anchor = info.anchor;\n      const url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    const makeDialog = (settings, onSubmit, editor) => {\n      const urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL',\n          picker_text: 'Browse links'\n        }];\n      const displayText = settings.anchor.text.map(() => ({\n        name: 'text',\n        type: 'input',\n        label: 'Text to display'\n      })).toArray();\n      const titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      const defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      const initialData = getInitialData(settings, defaultTarget);\n      const catalogs = settings.catalogs;\n      const dialogDelta = DialogChanges.init(initialData, catalogs);\n      const body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onChange: (api, {name}) => {\n          dialogDelta.onChange(api.getData, { name }).each(newData => {\n            api.setData(newData);\n          });\n        },\n        onSubmit\n      };\n    };\n    const open$1 = editor => {\n      const data = collectData(editor);\n      data.then(info => {\n        const onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(spec => {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    const register = editor => {\n      editor.addCommand('mceLink', (_ui, value) => {\n        if ((value === null || value === void 0 ? void 0 : value.dialog) === true || !useQuickLink(editor)) {\n          open$1(editor);\n        } else {\n          editor.dispatch('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        }\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const appendClickRemove = (link, evt) => {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    const open = url => {\n      const link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      const evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    };\n\n    const getLink = (editor, elm) => editor.dom.getParent(elm, 'a[href]');\n    const getSelectedLink = editor => getLink(editor, editor.selection.getStart());\n    const hasOnlyAltModifier = e => {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    const gotoLink = (editor, a) => {\n      if (a) {\n        const href = getHref(a);\n        if (/^#/.test(href)) {\n          const targetEl = editor.dom.select(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          open(a.href);\n        }\n      }\n    };\n    const openDialog = editor => () => {\n      editor.execCommand('mceLink', false, { dialog: true });\n    };\n    const gotoSelectedLink = editor => () => {\n      gotoLink(editor, getSelectedLink(editor));\n    };\n    const setupGotoLinks = editor => {\n      editor.on('click', e => {\n        const link = getLink(editor, e.target);\n        if (link && global.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n      editor.on('keydown', e => {\n        if (!e.isDefaultPrevented() && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          const link = getSelectedLink(editor);\n          if (link) {\n            e.preventDefault();\n            gotoLink(editor, link);\n          }\n        }\n      });\n    };\n    const toggleState = (editor, toggler) => {\n      editor.on('NodeChange', toggler);\n      return () => editor.off('NodeChange', toggler);\n    };\n    const toggleLinkState = editor => api => {\n      const updateState = () => {\n        api.setActive(!editor.mode.isReadOnly() && isInAnchor(editor, editor.selection.getNode()));\n        api.setEnabled(editor.selection.isEditable());\n      };\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleLinkMenuState = editor => api => {\n      const updateState = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const hasExactlyOneLinkInSelection = editor => {\n      const links = editor.selection.isCollapsed() ? getLinks$1(editor.dom.getParents(editor.selection.getStart())) : getLinksInSelection(editor.selection.getRng());\n      return links.length === 1;\n    };\n    const toggleGotoLinkState = editor => api => {\n      const updateState = () => api.setEnabled(hasExactlyOneLinkInSelection(editor));\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleUnlinkState = editor => api => {\n      const hasLinks$1 = parents => hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n      const parents = editor.dom.getParents(editor.selection.getStart());\n      const updateEnabled = parents => {\n        api.setEnabled(hasLinks$1(parents) && editor.selection.isEditable());\n      };\n      updateEnabled(parents);\n      return toggleState(editor, e => updateEnabled(e.parents));\n    };\n\n    const setup = editor => {\n      editor.addShortcut('Meta+K', '', () => {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    const setupButtons = editor => {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onAction: openDialog(editor),\n        onSetup: toggleLinkState(editor)\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleGotoLinkState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupMenuItems = editor => {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleGotoLinkState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onSetup: toggleLinkMenuState(editor),\n        onAction: openDialog(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupContextMenu = editor => {\n      const inLink = 'link unlink openlink';\n      const noLink = 'link';\n      editor.ui.registry.addContextMenu('link', {\n        update: element => {\n          const isEditable = editor.dom.isEditable(element);\n          if (!isEditable) {\n            return '';\n          }\n          return hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink;\n        }\n      });\n    };\n    const setupContextToolbars = editor => {\n      const collapseSelectionToEnd = editor => {\n        editor.selection.collapse(false);\n      };\n      const onSetupLink = buttonApi => {\n        const node = editor.selection.getNode();\n        buttonApi.setEnabled(isInAnchor(editor, node));\n        return noop;\n      };\n      const getLinkText = value => {\n        const anchor = getAnchorElement(editor);\n        const onlyText = isOnlyTextSelected(editor);\n        if (anchor.isNone() && onlyText) {\n          const text = getAnchorText(editor.selection, anchor);\n          return someIf(text.length === 0, value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleLinkState(editor)\n        },\n        label: 'Link',\n        predicate: node => hasContextToolbar(editor) && isInAnchor(editor, node),\n        initValue: () => {\n          const elm = getAnchorElement(editor);\n          return elm.fold(constant(''), getHref);\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: buttonApi => {\n              const node = editor.selection.getNode();\n              buttonApi.setActive(isInAnchor(editor, node));\n              return toggleLinkState(editor)(buttonApi);\n            },\n            onAction: formApi => {\n              const value = formApi.getValue();\n              const text = getLinkText(value);\n              const attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.none(),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              gotoSelectedLink(editor)();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n\n    var Plugin = () => {\n      global$5.add('link', editor => {\n        register$1(editor);\n        setupButtons(editor);\n        setupMenuItems(editor);\n        setupContextMenu(editor);\n        setupContextToolbars(editor);\n        setupGotoLinks(editor);\n        register(editor);\n        setup(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n"],"names":["global$5","hasProto","v","constructor","predicate","_a","typeOf","x","t","o","proto","isType","type","value","isSimpleType","eq","a","isString","isObject","isArray","isNull","isBoolean","isNullable","isNonNullable","isFunction","isArrayOf","pred","i","len","noop","constant","tripleEquals","b","Optional","tag","onNone","onSome","mapper","binder","replacement","thunk","message","worker","nativeIndexOf","nativePush","rawIndexOf","ts","contains","xs","map","f","r","each$1","foldl","acc","flatten","bind","findMap","arr","is","lhs","rhs","comparator","left","cat","push","someIf","option","name","editor","register$1","registerOption","valid","assumeExternalTargets","hasContextToolbar","getLinkList","getDefaultLinkTarget","getDefaultLinkProtocol","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","allowUnsafeLinkTarget","useQuickLink","global$4","getValue","item","getText","sanitizeList","list","extractValue","out","text","items","sanitizeWith","extracter","ListOptions","label","keys","hasOwnProperty","each","obj","props","k","objAcc","internalFilter","onTrue","onFalse","filter","has","key","hasNonNullableKey","global$3","global$2","isAnchor","elm","isLink","getHref","collectNodesInRange","rng","contents","firstChild","walker","elements","current","hasProtocol","url","_b","applyRelTargetRules","rel","isUnsafe","rules","rels","toString","addTargetRules","removeTargetRules","val","newRels","trimCaretContainers","getAnchorElement","selectedElm","getLinksInSelection","isImageFigure","isInAnchor","getAnchorText","selection","anchorElm","getLinks$1","hasLinks","hasLinksInSelection","isOnlyTextSelected","inlineTextElements","isElement","anchor","getLinkAttrs","data","handleExternalTargets","href","applyLinkOverrides","linkAttrs","newLinkAttrs","newRel","updateLink","createLink","dom","linkImageFigure","linkDomMutation","attachState","unlinkSelection","bookmark","startAnchorElm","endAnchorElm","unlinkDomMutation","node","unlinkImageFigure","unwrapOptions","cls","target","title","_k","sanitizeData","getOption","uriOptions","link","sanitizedData","unlink","fig","img","attrs","isListGroup","findTextByValue","catalog","getDelta","persistentText","fieldName","hasPersistentText","findCatalog","catalogs","DialogChanges","initialData","linkCatalog","persistentData","getTitleFromUrlChange","getTextFromUrlChange","onUrlChange","onCatalogChange","change","getData","global$1","delayedConfirm","callback","state","tryEmailTransform","oldData","tryProtocolTransform","defaultLinkProtocol","DialogConfirms","transform","AnchorListOptions","anchorNodes","anchors","id","ClassListOptions","parseJson","LinkListOptions","extractor","linkList","resolve","res","output","optItems","RelOptions","initialTarget","isTargetBlank","enforceSafe","safeRelExtractor","fallbacks","TargetOptions","nonEmptyAttr","elem","extractFromAnchor","linkClass","DialogInfo","linkNode","links","handleSubmit","info","api","getChangedValue","changedData","pData","collectData","anchorNode","getInitialData","defaultTarget","makeDialog","settings","onSubmit","urlInput","displayText","titleText","dialogDelta","newData","open$1","spec","register","_ui","global","appendClickRemove","evt","open","getLink","getSelectedLink","hasOnlyAltModifier","e","gotoLink","targetEl","openDialog","gotoSelectedLink","setupGotoLinks","toggleState","toggler","toggleLinkState","updateState","toggleLinkMenuState","hasExactlyOneLinkInSelection","toggleGotoLinkState","toggleUnlinkState","hasLinks$1","parents","updateEnabled","setup","setupButtons","setupMenuItems","setupContextMenu","inLink","noLink","element","setupContextToolbars","collapseSelectionToEnd","onSetupLink","buttonApi","getLinkText","onlyText","formApi","Plugin"],"mappings":"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","x_google_ignoreList":[0]}